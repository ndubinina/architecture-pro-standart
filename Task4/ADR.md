### <a name="_b7urdng99y53"></a>**Название задачи:** Передача ставок в call-центр
### <a name="_hjk0fkfyohdk"></a>**Автор:** Дубинина Н.В.
### <a name="_uanumrh8zrui"></a>**Дата:** 03.02.2026
### <a name="_3bfxc9a45514"></a>**Функциональные требования**
| **№** | **Действующие лица или системы**                                       | **Use Case**                           | **Описание**                                                                                                                                                                                                                                                                       |
|:-----:|:-----------------------------------------------------------------------|:---------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  UC1  | Клиенты, которые хотят открыть депозит, Менеджер в системе колл-центра | Уточнение деталей выдачи депозитов     | 1. Клиент звонит в call-центр и утоняет детали выдачи депозита 2. Менеджер колл-центра видит в своей системе актуальные процентные ставки, полученные из kafka и консультирует клиента                                                                                             |
|  UC2  | Сотрудник бэк-офиса кредитов, Менеджер в системе колл-центра           | Публикация процентных ставок депозитов | 1. Сотрудник бэк-офиса кредитов расчитывает ставки в АБС 2. АБС публикует ставки в Kafka 3. Система колл-центра читает данные из кафки 4. Специальный сервис-адаптер партнерского колл центра читает данные из кафки и формирует файл на sftp сервер для партнерского колл-центра. |                                                                                                                                                     

### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**
| **№** | **Требование**                                                                                                                  |
|:-----:|:--------------------------------------------------------------------------------------------------------------------------------|
|   R   | Надёжность (Reliability)                                                                                                        |
|  R1   | Сервисы должны работать 24/7                                                                                                    |
|  R2   | Доступность севисов 99,9%                                                                                                       |
|  R3   | В случае недоступности Kafka или SFTP система должна обеспечивать повторную доставку ставок                                     |
|  R4   | Нужна гарантия "At least once" для доставки актуальных ставок                                                                   |
|  ...  | ...                                                                                                                             |
|   P   | Производительность (Performance)                                                                                                |
|  P1   | Между публикацией новых ставок и доставкой их в колл-центр или на SFTP партнерского колл-центра должно пройти не более 1 минуты |
|  ...  | ...                                                                                                                             |
|  +R   | + Ограничения (Restrictions)                                                                                                    |
|  +R1  | Публикация ставок не должна блокировать работу АБС                                                                              |
|  +R2  | Партнерский колл-центр не может взаимодействовать через АПИ для получения ставок депозита                                       |
|  +R3  | Система колл-центра не должна выполнять прямые вызовы АБС                                                                       |
 

### <a name="_qmphm5d6rvi3"></a>**Решение**

- [Диаграмма контекста](./C4_Context.puml)
- [Диаграмма контейнеров](./C4_Container.puml)

### <a name="_bjrr7veeh80c"></a>**Альтернативы**

1) Ходить за ставками в АБС 
   Почему альтернатива не выбрана:
    - АБС уже сильно нагружена

### **Недостатки, ограничения, риски**

- ставки доходят до колл-центра не мгновенно 

### **Список крупных задач**

Предусловие: выгрузка ставок из АБС в kafka будет реализована в рамках выдачи депозитов онлайн в Q2 2026 силами команды IT департамента

| **№** | **Задача**                                                                              | **Система**                                 |
|:-----:|:----------------------------------------------------------------------------------------|---------------------------------------------|
|  T1   | Получение и отображение актуальных ставок в Колл-центре                                 | Команда подрядчика колл-центра              |
|  T2   | Создание адаптера к партнерскому колл-центру, который выгружает ставки из kafka на sftp | Команда Банка                               |
|  T3   | Партнерский колл-центр отображает ставки депозитов, хранящиеся на SFTP                  | Команда подрядчика партнерского колл-центра |