### <a name="_b7urdng99y53"></a>**Название задачи:** Заявка на кредит онлайн
### <a name="_hjk0fkfyohdk"></a>**Автор:** Дубинина Н.В.
### <a name="_uanumrh8zrui"></a>**Дата:** 03.02.2026
### <a name="_3bfxc9a45514"></a>**Функциональные требования**
| **№** | **Действующие лица или системы**                                                        | **Use Case**                                            | **Описание**                                                                                                                                                                                                                                                                                                                                                            |
|:-----:|:----------------------------------------------------------------------------------------|:--------------------------------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  UC1  | Новый клиент на сайте, Кредитный конвейер, Система скоринга, БКИ, сотрудник фронт-офиса | Подача заявки на кредит на сайте                        | 1. Новый клиент на сайте ознакамливается с предложениями кредитов 2. Новый клиент подает заявку оставив свои паспортные данные 3. Заявка попадает в кредитный конвейер 4. Заявка анализируется в системе скоринга на риски на основе данных БКИ 5. Решение по кредитной заявке отправляется клиенту в СМС 6. Новый клиент приходит в отделение и проходит идентификацию |
|  UC2  | Клиент банка, Кредитный конвейер, Сотрудник бэк-офиса кредитов, Система скоринга        | Подача заявки на предодобренный кредит в интернет-банке | 1. Клиент авторизуется в интернет-банке 2. Ознакамливается с предложениями по кредиту, включая предодобренное 3. Клиент подает заявку на предодобренный кредит 4. В кредитном конвейере заявка проходит повторный упрощенный скоринг 5. Сотрудник бэк-офиса одобряет заявку 6. Клиенту отправляется СМС о решении по заявке                                             |
|  UC3  | Кредитный конвейер, Система скоринга                                                    | Расчет предварительно одобренных кредитов               | 1. Кредитный конвейер расчитывает предобобренные кредиты фоном в нерабочее время 2. Предодобренные кредиты выгружаются в интернет-банк через Kafka                                                                                                                                                                                                                      |

### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**
| **№** | **Требование**                                                                                            |
|:-----:|:----------------------------------------------------------------------------------------------------------|
|   R   | Надёжность (Reliability)                                                                                  |
|  R1   | Сервисы должны работать 24/7                                                                              |
|  R2   | Доступность севисов 99,9%                                                                                 |
|  R3   | В случае недоступности Kafka система должна обеспечивать повторную доставку предодобренных кредитов       |
|  R4   | Нужна гарантия "At least once" для доставки предодобренных кредитов в интернет-банк                       |
|  R5   | Повторная обработка сообщений о предодобренных кредитах не должна приводить к дублированию предложений    |
|  ...  | ...                                                                                                       |
|   P   | Производительность (Performance)                                                                          |
|  P1   | Ответ по операциям интернет-банка не более 1 секунды                                                      |
|  P2   | Фоновый расчет предодобренных кредитов не должен влиять на онлайн-скоринг заявок                          |
|  ...  | ...                                                                                                       |
|  +R   | + Ограничения (Restrictions)                                                                              |
|  +R1  | Трафик между сайтом и бэкендом необходимо шифровать так как передается чувствительная информация          |                                                                                                |
|  +R2  | Трафик между интернет-банком и бэкендом необходимо шифровать так как передается чувствительная информация |                                                                                                |
|  +R3  | Нужно избежать прямых вызовов API АБС из интернет-банка                                                   | 
|  +R4  | Нужно предусмотреть распределение нагрузки интернет-банка на 2 ЦОД                                        |      
|  +R5  | Расчет предодобренных кредитов должен проходить во внерабочее время                                       |


### <a name="_qmphm5d6rvi3"></a>**Решение**

- [Диаграмма контекста](./C4_Context.puml)
- [Диаграмма контейнеров](./C4_Container.puml)

### <a name="_bjrr7veeh80c"></a>**Альтернативы**

1) Кредитные завки идут через АБС
   Почему альтернатива не выбрана:
    - Необходимости нагружать АБС данными о кредите до момента его выдачи нет необходимости

### **Недостатки, ограничения, риски**

1) Между подачей заявки на кредит и доступностью заявки для обработки специалистом бэк-офиса может пройти до 1 дня - так как заявки выгружаются из креитного конф=веера в АБС раз в сутки
2) Подготовка списка предодобренных кредитов происходит в кредитном конвеейре фоном в нерабочее время, так как система кредитного скоринга должна быть доступна в рабочее время без задержек



